<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Download File - Final Link</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    
    <style>
        .final-download-page {
            min-height: 100vh;
            background-color: #f8f9fa; /* Light background */
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }
        .card {
            border-radius: 1.5rem;
            max-width: 500px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
        }
        .tele-btn {
            background-color: #0088cc; /* Official Telegram blue */
            border-color: #0088cc;
            transition: background-color 0.3s ease, transform 0.1s ease;
            font-weight: bold;
            text-transform: uppercase;
        }
        .tele-btn:hover {
            background-color: #007bb6;
            border-color: #007bb6;
            transform: translateY(-2px);
        }
        .card-title {
            color: #343a40;
            font-size: 1.75rem;
        }
        .text-muted {
            font-size: 0.85rem;
        }
    </style>
</head>
<body>

    <div id="app"></div>

    <script>
        // Helper to parse URL query parameters
        function getQueryParam(param) {
            const urlParams = new URLSearchParams(window.location.search);
            return urlParams.get(param); 
        }

        const FinalDownload = {
            template: `
                <div class="final-download-page">
                    <div class="container">
                        <div class="row justify-content-center">
                            <div class="col-md-8 col-lg-6">
                                <div class="card shadow-lg border-0">
                                    <div class="card-body p-4 p-md-5 text-center">
                                        
                                        <svg 
                                            xmlns="http://www.w3.org/2000/svg" 
                                            width="64" 
                                            height="64" 
                                            fill="#0088cc" 
                                            class="bi bi-file-earmark-arrow-down-fill mb-4" 
                                            viewBox="0 0 16 16"
                                        >
                                            <path d="M9.293 0H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V7.707A1 1 0 0 0 13.707 7L10 3.293A1 1 0 0 0 9.293 3zM9.5 3.5l3 3H9.5zM7.5 9v3.793l1.146-1.147a.5.5 0 0 1 .708.708l-2 2a.5.5 0 0 1-.708 0l-2-2a.5.5 0 0 1 .708-.708L7 12.793V9a.5.5 0 0 1 1 0z"/>
                                        </svg>
                                        
                                        <h1 class="card-title mb-5 fw-bold">{{ fileTitle }}</h1>
                                        
                                        <p v-if="error" class="alert alert-danger">{{ error }}</p>
                                        
                                        <a 
                                            v-else 
                                            :href="downloadLink" 
                                            target="_blank" 
                                            class="btn btn-primary btn-lg w-100 py-3 shadow-sm tele-btn"
                                            rel="noopener noreferrer"
                                        >
                                            <svg 
                                                xmlns="http://www.w3.org/2000/svg" 
                                                width="24" 
                                                height="24" 
                                                fill="currentColor" 
                                                class="bi bi-telegram me-2" 
                                                viewBox="0 0 16 16"
                                            >
                                                <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0M8.286 7.771 10.6 5.342c.118-.118.257-.076.326.046.069.122.012.285-.11.407L8.623 8.243l2.235 2.185c.143.14.072.36-.08.432a.235.235 0 0 1-.362-.058L8.286 9.715 5.923 12.01c-.134.131-.352.091-.424-.037a.36.36 0 0 1 .054-.424l2.235-2.185-2.235-2.185c-.134-.131-.094-.352.037-.424a.36.36 0 0 1 .424.054L8.286 7.771z"/>
                                            </svg>
                                            Get File via Telegram Bot
                                        </a>
                                        
                                        <small class="mt-3 d-block text-muted">Click the button above to launch Telegram and receive your file instantly.</small>

                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            `,
            data() {
                return {
                    fileTitle: 'Download Ready',
                    downloadLink: null,
                    error: null,
                };
            },
            mounted() {
                // Get parameters from the URL
                const title = getQueryParam('title');
                const link = getQueryParam('link');
                
                // Set the file title
                if (title) {
                    this.fileTitle = decodeURIComponent(title);
                }
                
                // Set the download link
                if (link) {
                    this.downloadLink = decodeURIComponent(link);
                } else {
                    this.error = 'Error: Download link is missing. Please contact support.';
                    this.downloadLink = '#'; // Fallback link
                }
            }
        };

        // Create and mount the Vue application
        const app = Vue.createApp(FinalDownload);
        app.mount('#app');
    </script>
</body>
</html>